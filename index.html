<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>40 Fund AGM 2026 | Live Tally</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #1a1a1a; color: white; padding: 20px; text-align: center; }
        .container { max-width: 900px; margin: auto; background: #2d2d2d; padding: 20px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        h1 { color: #ff9f43; margin-bottom: 5px; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px; }
        .card { background: #3d3d3d; padding: 15px; border-radius: 10px; }
        input { width: 40px; padding: 5px; border-radius: 5px; border: none; text-align: center; }
        label { display: block; margin-bottom: 10px; font-size: 0.9em; color: #ccc; }
        .footer { margin-top: 30px; font-size: 0.8em; color: #888; }
    </style>
</head>
<body>

<div class="container">
    <h1>ðŸ”¥ 40 Fund AGM 2026</h1>
    <p>Hickoryâ€™s Smokehouse | Live Vote Tally</p>

    <div class="grid">
        <div class="card">
            <h3>Treasury Strategy</h3>
            <label>Cash (A) | Bonds (B) | Stocks (C)</label>
            <input type="number" id="res1a" value="0" onchange="updateCharts()">
            <input type="number" id="res1b" value="0" onchange="updateCharts()">
            <input type="number" id="res1c" value="0" onchange="updateCharts()">
            <canvas id="chartRes1"></canvas>
        </div>

        <div class="card">
            <h3>Interest Allocation</h3>
            <label>Socialist | Units | Admin Fee</label>
            <input type="number" id="res2a" value="0" onchange="updateCharts()">
            <input type="number" id="res2b" value="0" onchange="updateCharts()">
            <input type="number" id="res2c" value="0" onchange="updateCharts()">
            <canvas id="chartRes2"></canvas>
        </div>

        <div class="card">
            <h3>Veto Guardrail</h3>
            <label>Token System | Veto Tax</label>
            <input type="number" id="res3a" value="0" onchange="updateCharts()">
            <input type="number" id="res3b" value="0" onchange="updateCharts()">
            <canvas id="chartRes3"></canvas>
        </div>

        <div class="card">
            <h3>The Â£50 Floor Rule</h3>
            <label>Approve | Reject</label>
            <input type="number" id="res4a" value="0" onchange="updateCharts()">
            <input type="number" id="res4b" value="0" onchange="updateCharts()">
            <canvas id="chartRes4"></canvas>
        </div>
    </div>

    <div class="footer">
        Proprietary Data of the 40 Fund. No Whinging Clause in Effect.
    </div>
</div>

<script>
    let charts = {};

    function createChart(id, label, labels, data, colors) {
        const ctx = document.getElementById(id).getContext('2d');
        return new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: labels,
                datasets: [{
                    data: data,
                    backgroundColor: colors,
                    borderColor: '#2d2d2d',
                    borderWidth: 2
                }]
            },
            options: { plugins: { legend: { position: 'bottom', labels: { color: 'white' } } } }
        });
    }

    function init() {
        charts.res1 = createChart('chartRes1', 'Strategy', ['Cash', 'Bonds', 'Stocks'], [0, 0, 0], ['#4bc0c0', '#ffce56', '#ff6384']);
        charts.res2 = createChart('chartRes2', 'Interest', ['Socialist', 'Units', 'Admin'], [0, 0, 0], ['#36a2eb', '#9966ff', '#4bc0c0']);
        charts.res3 = createChart('chartRes3', 'Veto', ['Token', 'Tax'], [0, 0], ['#ff9f40', '#ff6384']);
        charts.res4 = createChart('chartRes4', 'Rule', ['Approve', 'Reject'], [0, 0], ['#4bc0c0', '#ff6384']);
    }

    function updateCharts() {
        charts.res1.data.datasets[0].data = [document.getElementById('res1a').value, document.getElementById('res1b').value, document.getElementById('res1c').value];
        charts.res2.data.datasets[0].data = [document.getElementById('res2a').value, document.getElementById('res2b').value, document.getElementById('res2c').value];
        charts.res3.data.datasets[0].data = [document.getElementById('res3a').value, document.getElementById('res3b').value];
        charts.res4.data.datasets[0].data = [document.getElementById('res4a').value, document.getElementById('res4b').value];
        
        Object.values(charts).forEach(chart => chart.update());
    }

    window.onload = init;
</script>
</body>
</html>
