<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>40 Fund AGM 2026 | Bar Chart Tally</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #0f172a; color: #f8fafc; padding: 20px; }
        .container { max-width: 1100px; margin: auto; background: #1e293b; padding: 30px; border-radius: 12px; box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5); }
        h1 { color: #38bdf8; text-align: center; font-size: 2.5em; margin-bottom: 10px; }
        .subtitle { text-align: center; color: #94a3b8; margin-bottom: 40px; text-transform: uppercase; letter-spacing: 1px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(450px, 1fr)); gap: 30px; }
        .card { background: #334155; padding: 25px; border-radius: 10px; border: 1px solid #475569; }
        .inputs { display: flex; justify-content: center; gap: 20px; margin-bottom: 20px; }
        .input-group { text-align: center; }
        .label-text { display: block; font-size: 0.75em; color: #cbd5e1; margin-bottom: 8px; font-weight: bold; }
        input { width: 60px; background: #1e293b; border: 2px solid #38bdf8; color: #38bdf8; padding: 8px; border-radius: 6px; font-size: 1.2em; font-weight: bold; text-align: center; outline: none; }
        canvas { max-height: 250px; }
    </style>
</head>
<body>

<div class="container">
    <h1>ðŸ”¥ The 40 Fund AGM</h1>
    <p class="subtitle">Live Results Service: Hickoryâ€™s Smokehouse</p>

    <div class="grid">
        <div class="card">
            <h3>1. Treasury Strategy</h3>
            <div class="inputs">
                <div class="input-group"><span class="label-text">Cash</span><input type="number" id="r1a" value="0" oninput="update()"></div>
                <div class="input-group"><span class="label-text">Bonds</span><input type="number" id="r1b" value="0" oninput="update()"></div>
                <div class="input-group"><span class="label-text">Stocks</span><input type="number" id="r1c" value="0" oninput="update()"></div>
            </div>
            <canvas id="c1"></canvas>
        </div>

        <div class="card">
            <h3>2. Interest Allocation</h3>
            <div class="inputs">
                <div class="input-group"><span class="label-text">Social</span><input type="number" id="r2a" value="0" oninput="update()"></div>
                <div class="input-group"><span class="label-text">Units</span><input type="number" id="r2b" value="0" oninput="update()"></div>
                <div class="input-group"><span class="label-text">Fee</span><input type="number" id="r2c" value="0" oninput="update()"></div>
            </div>
            <canvas id="c2"></canvas>
        </div>

        <div class="card">
            <h3>3. Veto Guardrail</h3>
            <div class="inputs">
                <div class="input-group"><span class="label-text">Token</span><input type="number" id="r3a" value="0" oninput="update()"></div>
                <div class="input-group"><span class="label-text">Tax</span><input type="number" id="r3b" value="0" oninput="update()"></div>
            </div>
            <canvas id="c3"></canvas>
        </div>

        <div class="card">
            <h3>4. The Â£50 Floor Rule</h3>
            <div class="inputs">
                <div class="input-group"><span class="label-text">Approve</span><input type="number" id="r4a" value="0" oninput="update()"></div>
                <div class="input-group"><span class="label-text">Reject</span><input type="number" id="r4b" value="0" oninput="update()"></div>
            </div>
            <canvas id="c4"></canvas>
        </div>

        <div class="card">
            <h3>5. 2028 Window</h3>
            <div class="inputs">
                <div class="input-group"><span class="label-text">May-July</span><input type="number" id="r5a" value="0" oninput="update()"></div>
                <div class="input-group"><span class="label-text">Aug-Oct</span><input type="number" id="r5b" value="0" oninput="update()"></div>
            </div>
            <canvas id="c5"></canvas>
        </div>

        <div class="card">
            <h3>6. Recruitment</h3>
            <div class="inputs">
                <div class="input-group"><span class="label-text">Closed</span><input type="number" id="r6a" value="0" oninput="update()"></div>
                <div class="input-group"><span class="label-text">Open</span><input type="number" id="r6b" value="0" oninput="update()"></div>
            </div>
            <canvas id="c6"></canvas>
        </div>
    </div>
</div>

<script>
    const charts = {};
    const config = (labels, color) => ({
        type: 'bar',
        data: { labels, datasets: [{ label: 'Votes', data: [0,0,0], backgroundColor: color, borderRadius: 5 }] },
        options: { 
            scales: { y: { beginAtZero: true, grid: { color: '#475569' }, ticks: { color: '#94a3b8', stepSize: 1 } }, x: { ticks: { color: '#f1f5f9' } } },
            plugins: { legend: { display: false } }
        }
    });

    function init() {
        charts.c1 = new Chart(document.getElementById('c1'), config(['Cash', 'Bonds', 'Stocks'], '#38bdf8'));
        charts.c2 = new Chart(document.getElementById('c2'), config(['Socialist', 'Units', 'Fee'], '#818cf8'));
        charts.c3 = new Chart(document.getElementById('c3'), config(['Token', 'Tax'], '#fbbf24'));
        charts.c4 = new Chart(document.getElementById('c4'), config(['Approve', 'Reject'], '#2dd4bf'));
        charts.c5 = new Chart(document.getElementById('c5'), config(['Spring/Sum', 'Late/Autumn'], '#f472b6'));
        charts.c6 = new Chart(document.getElementById('c6'), config(['Closed', 'Open'], '#94a3b8'));
    }

    function update() {
        charts.c1.data.datasets[0].data = [val('r1a'), val('r1b'), val('r1c')];
        charts.c2.data.datasets[0].data = [val('r2a'), val('r2b'), val('r2c')];
        charts.c3.data.datasets[0].data = [val('r3a'), val('r3b')];
        charts.c4.data.datasets[0].data = [val('r4a'), val('r4b')];
        charts.c5.data.datasets[0].data = [val('r5a'), val('r5b')];
        charts.c6.data.datasets[0].data = [val('r6a'), val('r6b')];
        Object.values(charts).forEach(c => c.update());
    }

    const val = id => document.getElementById(id).value || 0;
    window.onload = init;
</script>
</body>
</html>
